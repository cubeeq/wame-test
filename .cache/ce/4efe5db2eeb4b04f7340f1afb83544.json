{"id":"Sndy","dependencies":[{"name":"D:\\www\\wame-test\\.babelrc","includedInParent":true,"mtime":1571931543982},{"name":"D:\\www\\wame-test\\package.json","includedInParent":true,"mtime":1572771378267},{"name":"axios","loc":{"line":20,"column":18},"parent":"D:\\www\\wame-test\\src\\js\\components\\StarRating.vue","resolved":"D:\\www\\wame-test\\node_modules\\axios\\index.js"},{"name":"../../scss/components/StarRating.scss","media":"","loc":{"line":4,"column":1},"parent":"D:\\www\\wame-test\\src\\js\\components\\StarRating.vue","resolved":"D:\\www\\wame-test\\src\\scss\\components\\StarRating.scss"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var t=e(require(\"axios\"));function e(t){return t&&t.__esModule?t:{default:t}}var n={props:[\"stars\",\"ProductId\"],data:function(){return{ratings:null,count:\"\"}},methods:{setVote:function(t,e){var n=this.stars-e+1,r=t,s=this.ratings,i={rating:{ProductId:r,stars:n}};s.push(i);var a=new XMLHttpRequest;a.open(\"PUT\",\"https://api.jsonbin.io/b/5dbc205f0448cf5e89350782\",!0),a.setRequestHeader(\"Content-type\",\"application/json\"),a.send(JSON.stringify(s))},ratingSum:function(t,e){for(var n=0,r=0,s=0;s<this.ratings.length;s++){var i=JSON.stringify(this.ratings[s].rating.ProductId),a=JSON.stringify(this.ratings[s].rating.stars);if(parseInt(i.replace(/\"|\"/,\"\"),10)==t){n+=1;for(var o=0;o<a.length;o++)r+=parseInt(a,10);var u=r/n}}return\"votes\"==e?n:u?u.toFixed(1):\"0\"}},mounted:function(){var e=this;t.default.get(\"https://api.jsonbin.io/b/5dbc205f0448cf5e89350782/latest\").then(function(t){return e.ratings=t.data}).catch(function(t){document.querySelector(\"body\").innerText=t+\" / StarRating Component\"})}};exports.default=n;\n(function(){var t=exports.default||module.exports;\"function\"==typeof t&&(t=t.options),Object.assign(t,{render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e(\"div\",{staticClass:\"rating\"},[e(\"div\",{staticClass:\"css-reverse\"},t._l(t.stars,function(s){return e(\"span\",{key:s,staticClass:\"star\",attrs:{name:s}},[e(\"font-awesome-icon\",{attrs:{icon:\"star\"},on:{click:function(e){return t.setVote(t.ProductId,s)}}})],1)}),0),t._v(\" \"),e(\"span\",{staticClass:\"votes\"},[t._v(\" \"+t._s(t.ratingSum(t.ProductId,\"votes\"))+\" hodnotení \")]),t._v(\" \"),e(\"span\",{staticClass:\"average\"},[t._v(\" (∅ \"+t._s(t.ratingSum(t.ProductId))+\") \")])])},staticRenderFns:[],_compiled:!0,_scopeId:\"data-v-1e0c52\",functional:void 0});})();"},"sourceMaps":{"js":{"mappings":[{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":22,"column":0},"generated":{"line":1,"column":0}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":22,"column":0},"generated":{"line":1,"column":13}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":22,"column":0},"generated":{"line":1,"column":20}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":22,"column":0},"generated":{"line":1,"column":35}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":22,"column":0},"generated":{"line":1,"column":43}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":22,"column":0},"generated":{"line":1,"column":56}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":22,"column":0},"generated":{"line":1,"column":57}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":22,"column":0},"generated":{"line":1,"column":64}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":22,"column":0},"generated":{"line":1,"column":68}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":22,"column":0},"generated":{"line":1,"column":76}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":22,"column":0},"generated":{"line":1,"column":89}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":20,"column":0},"generated":{"line":1,"column":91}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":20,"column":0},"generated":{"line":1,"column":95}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":20,"column":0},"generated":{"line":1,"column":97}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":20,"column":0},"generated":{"line":1,"column":99}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":20,"column":0},"generated":{"line":1,"column":107}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":22,"column":0},"generated":{"line":1,"column":117}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":22,"column":0},"generated":{"line":1,"column":126}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":22,"column":0},"generated":{"line":1,"column":128}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":22,"column":0},"generated":{"line":1,"column":131}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":22,"column":0},"generated":{"line":1,"column":138}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":22,"column":0},"generated":{"line":1,"column":141}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":22,"column":0},"generated":{"line":1,"column":143}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":22,"column":0},"generated":{"line":1,"column":154}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":22,"column":0},"generated":{"line":1,"column":156}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":22,"column":0},"generated":{"line":1,"column":157}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":22,"column":0},"generated":{"line":1,"column":165}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":22,"column":0},"generated":{"line":1,"column":168}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":22,"column":0},"generated":{"line":1,"column":172}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":22,"column":0},"generated":{"line":1,"column":174}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":24,"column":0},"generated":{"line":1,"column":175}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":24,"column":0},"generated":{"line":1,"column":181}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":24,"column":0},"generated":{"line":1,"column":182}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":24,"column":0},"generated":{"line":1,"column":190}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":26,"column":0},"generated":{"line":1,"column":203}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":26,"column":0},"generated":{"line":1,"column":208}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":27,"column":0},"generated":{"line":1,"column":219}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":27,"column":0},"generated":{"line":1,"column":225}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":28,"column":0},"generated":{"line":1,"column":226}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":28,"column":0},"generated":{"line":1,"column":234}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":29,"column":0},"generated":{"line":1,"column":239}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":29,"column":0},"generated":{"line":1,"column":245}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":33,"column":0},"generated":{"line":1,"column":250}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":33,"column":0},"generated":{"line":1,"column":258}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":38,"column":0},"generated":{"line":1,"column":259}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":38,"column":0},"generated":{"line":1,"column":267}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":38,"column":0},"generated":{"line":1,"column":276}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":38,"column":0},"generated":{"line":1,"column":278}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":41,"column":0},"generated":{"line":1,"column":281}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":41,"column":0},"generated":{"line":1,"column":285}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":41,"column":0},"generated":{"line":1,"column":287}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":41,"column":0},"generated":{"line":1,"column":292}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":41,"column":0},"generated":{"line":1,"column":298}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":41,"column":0},"generated":{"line":1,"column":300}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":43,"column":0},"generated":{"line":1,"column":302}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":43,"column":0},"generated":{"line":1,"column":304}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":45,"column":0},"generated":{"line":1,"column":306}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":45,"column":0},"generated":{"line":1,"column":308}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":45,"column":0},"generated":{"line":1,"column":313}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":48,"column":0},"generated":{"line":1,"column":321}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":48,"column":0},"generated":{"line":1,"column":323}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":49,"column":0},"generated":{"line":1,"column":324}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":49,"column":0},"generated":{"line":1,"column":331}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":50,"column":0},"generated":{"line":1,"column":332}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":50,"column":0},"generated":{"line":1,"column":342}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":51,"column":0},"generated":{"line":1,"column":344}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":51,"column":0},"generated":{"line":1,"column":350}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":354}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":356}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":56,"column":0},"generated":{"line":1,"column":361}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":58,"column":0},"generated":{"line":1,"column":364}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":58,"column":0},"generated":{"line":1,"column":368}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":58,"column":0},"generated":{"line":1,"column":370}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":58,"column":0},"generated":{"line":1,"column":374}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":60,"column":0},"generated":{"line":1,"column":389}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":60,"column":0},"generated":{"line":1,"column":391}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":60,"column":0},"generated":{"line":1,"column":396}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":60,"column":0},"generated":{"line":1,"column":402}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":60,"column":0},"generated":{"line":1,"column":455}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":61,"column":0},"generated":{"line":1,"column":458}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":61,"column":0},"generated":{"line":1,"column":460}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":61,"column":0},"generated":{"line":1,"column":477}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":61,"column":0},"generated":{"line":1,"column":492}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":62,"column":0},"generated":{"line":1,"column":512}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":62,"column":0},"generated":{"line":1,"column":514}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":62,"column":0},"generated":{"line":1,"column":519}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":62,"column":0},"generated":{"line":1,"column":524}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":62,"column":0},"generated":{"line":1,"column":534}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":67,"column":0},"generated":{"line":1,"column":539}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":67,"column":0},"generated":{"line":1,"column":549}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":67,"column":0},"generated":{"line":1,"column":558}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":67,"column":0},"generated":{"line":1,"column":560}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":72,"column":0},"generated":{"line":1,"column":563}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":69,"column":0},"generated":{"line":1,"column":567}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":69,"column":0},"generated":{"line":1,"column":571}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":69,"column":0},"generated":{"line":1,"column":573}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":70,"column":0},"generated":{"line":1,"column":575}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":70,"column":0},"generated":{"line":1,"column":577}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":72,"column":0},"generated":{"line":1,"column":579}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":72,"column":0},"generated":{"line":1,"column":581}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":72,"column":0},"generated":{"line":1,"column":583}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":72,"column":0},"generated":{"line":1,"column":585}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":72,"column":0},"generated":{"line":1,"column":590}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":72,"column":0},"generated":{"line":1,"column":598}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":72,"column":0},"generated":{"line":1,"column":605}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":72,"column":0},"generated":{"line":1,"column":609}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":75,"column":0},"generated":{"line":1,"column":610}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":75,"column":0},"generated":{"line":1,"column":614}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":75,"column":0},"generated":{"line":1,"column":616}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":75,"column":0},"generated":{"line":1,"column":621}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":75,"column":0},"generated":{"line":1,"column":631}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":75,"column":0},"generated":{"line":1,"column":636}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":75,"column":0},"generated":{"line":1,"column":644}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":75,"column":0},"generated":{"line":1,"column":647}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":75,"column":0},"generated":{"line":1,"column":654}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":78,"column":0},"generated":{"line":1,"column":665}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":78,"column":0},"generated":{"line":1,"column":667}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":78,"column":0},"generated":{"line":1,"column":672}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":78,"column":0},"generated":{"line":1,"column":682}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":78,"column":0},"generated":{"line":1,"column":687}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":78,"column":0},"generated":{"line":1,"column":695}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":78,"column":0},"generated":{"line":1,"column":698}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":78,"column":0},"generated":{"line":1,"column":705}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":84,"column":0},"generated":{"line":1,"column":712}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":81,"column":0},"generated":{"line":1,"column":715}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":81,"column":0},"generated":{"line":1,"column":724}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":81,"column":0},"generated":{"line":1,"column":726}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":81,"column":0},"generated":{"line":1,"column":734}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":81,"column":0},"generated":{"line":1,"column":740}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":81,"column":0},"generated":{"line":1,"column":744}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":84,"column":0},"generated":{"line":1,"column":749}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":84,"column":0},"generated":{"line":1,"column":751}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":86,"column":0},"generated":{"line":1,"column":752}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":86,"column":0},"generated":{"line":1,"column":755}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":89,"column":0},"generated":{"line":1,"column":757}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":89,"column":0},"generated":{"line":1,"column":761}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":89,"column":0},"generated":{"line":1,"column":765}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":89,"column":0},"generated":{"line":1,"column":767}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":89,"column":0},"generated":{"line":1,"column":769}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":89,"column":0},"generated":{"line":1,"column":771}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":89,"column":0},"generated":{"line":1,"column":773}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":89,"column":0},"generated":{"line":1,"column":780}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":90,"column":0},"generated":{"line":1,"column":784}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":90,"column":0},"generated":{"line":1,"column":787}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":90,"column":0},"generated":{"line":1,"column":796}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":90,"column":0},"generated":{"line":1,"column":798}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":94,"column":0},"generated":{"line":1,"column":802}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":94,"column":0},"generated":{"line":1,"column":806}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":94,"column":0},"generated":{"line":1,"column":808}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":94,"column":0},"generated":{"line":1,"column":810}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":100,"column":0},"generated":{"line":1,"column":813}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":100,"column":0},"generated":{"line":1,"column":819}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":100,"column":0},"generated":{"line":1,"column":828}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":102,"column":0},"generated":{"line":1,"column":830}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":106,"column":0},"generated":{"line":1,"column":832}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":106,"column":0},"generated":{"line":1,"column":834}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":106,"column":0},"generated":{"line":1,"column":836}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":106,"column":0},"generated":{"line":1,"column":844}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":106,"column":0},"generated":{"line":1,"column":847}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":114,"column":0},"generated":{"line":1,"column":853}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":114,"column":0},"generated":{"line":1,"column":861}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":114,"column":0},"generated":{"line":1,"column":872}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":114,"column":0},"generated":{"line":1,"column":876}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":114,"column":0},"generated":{"line":1,"column":878}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":118,"column":0},"generated":{"line":1,"column":883}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":118,"column":0},"generated":{"line":1,"column":885}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":118,"column":0},"generated":{"line":1,"column":893}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":118,"column":0},"generated":{"line":1,"column":897}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":119,"column":0},"generated":{"line":1,"column":957}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":119,"column":0},"generated":{"line":1,"column":962}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":119,"column":0},"generated":{"line":1,"column":971}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":119,"column":0},"generated":{"line":1,"column":974}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":119,"column":0},"generated":{"line":1,"column":981}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":119,"column":0},"generated":{"line":1,"column":983}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":119,"column":0},"generated":{"line":1,"column":991}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":119,"column":0},"generated":{"line":1,"column":993}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":120,"column":0},"generated":{"line":1,"column":1000}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":120,"column":0},"generated":{"line":1,"column":1006}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":120,"column":0},"generated":{"line":1,"column":1015}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":121,"column":0},"generated":{"line":1,"column":1018}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":121,"column":0},"generated":{"line":1,"column":1027}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":121,"column":0},"generated":{"line":1,"column":1041}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":122,"column":0},"generated":{"line":1,"column":1049}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":122,"column":0},"generated":{"line":1,"column":1059}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":122,"column":0},"generated":{"line":1,"column":1061}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":22,"column":0},"generated":{"line":1,"column":1091}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":22,"column":0},"generated":{"line":1,"column":1099}},{"source":"src/js/components/StarRating.vue","name":null,"original":{"line":22,"column":0},"generated":{"line":1,"column":1107}}],"sources":{"src/js/components/StarRating.vue":"<template>\r\n    <div class=\"rating\">\r\n        <div class=\"css-reverse\">\r\n            <span v-for=\"star in stars\" class=\"star\" :name=\"star\" :key=\"star\">\r\n                <font-awesome-icon icon=\"star\" v-on:click=\"setVote(ProductId, star)\"></font-awesome-icon>\r\n            </span>\r\n        </div>\r\n        <span class=\"votes\">\r\n            {{ ratingSum(ProductId, 'votes') }} hodnotení\r\n        </span>\r\n        <span class=\"average\">\r\n            (&empty; {{ ratingSum(ProductId) }})\r\n        </span>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n\r\n    // Import AXIOS\r\n    import axios from 'axios';\r\n\r\n    export default {\r\n\r\n        props: ['stars', 'ProductId'],\r\n\r\n        data() {\r\n            return {\r\n                ratings: null,\r\n                count: ''\r\n            }\r\n        },\r\n\r\n        methods: {\r\n\r\n            /*\r\n            * Pridanie hodnotenia\r\n            */\r\n            setVote(ProductId, star) {\r\n\r\n                // Konverzia odoslanej hodnoty z css-reverse\r\n                let result = this.stars - star + 1;\r\n                \r\n                let id = ProductId;\r\n\r\n                let ratings = this.ratings;\r\n\r\n                // Šablóna JSON nového hodnotenia\r\n                let rating = {\r\n                    rating: {\r\n                        ProductId: id,\r\n                        stars: result\r\n                    }\r\n                };\r\n                \r\n                // Pripojenie nového hodnotenia ku JSONu\r\n                ratings.push(rating);\r\n\r\n                let req = new XMLHttpRequest();\r\n\r\n                req.open(\"PUT\", \"https://api.jsonbin.io/b/5dbc205f0448cf5e89350782\", true);\r\n                req.setRequestHeader(\"Content-type\", \"application/json\");\r\n                req.send(JSON.stringify(ratings));\r\n                \r\n                \r\n            },\r\n\r\n            ratingSum(productId, votes) {\r\n\r\n                let count = 0;\r\n                let sum = 0;\r\n\r\n                for( let i = 0; i < this.ratings.length; i++) {\r\n\r\n                    // Výber hodnotení produktov podľa ID\r\n                    let selectAll = JSON.stringify(this.ratings[i].rating.ProductId);\r\n                    \r\n                    // Výber udelených hviezd produktov\r\n                    let selectStar = JSON.stringify(this.ratings[i].rating.stars);\r\n\r\n                    // Očistenie od úvodzoviek a konverzia na integer\r\n                    let clearId = parseInt(selectAll.replace(/\"|\"/, \"\"), 10);\r\n                    \r\n                    // Porovnanie a zápis zhodných produktov s výpočtom priemeru\r\n                    if(clearId == productId) {\r\n\r\n                        count += 1;\r\n                        \r\n                        // Prepočet hviezd vybraného produktu\r\n                        for(let i = 0; i < selectStar.length; i++) {\r\n                            sum += parseInt(selectStar, 10);\r\n                        }\r\n\r\n                        // Získanie priemeru - vydelenie súčtu hviezd ich počtom\r\n                        var avg = sum / count;\r\n\r\n                    }\r\n                }\r\n\r\n                // Získanie hodnoty počet hlasov alebo priemeru\r\n                if (votes == 'votes') {\r\n\r\n                    return count;\r\n\r\n                } else {\r\n\r\n                    return avg ? avg.toFixed(1) : \"0\";\r\n\r\n                }\r\n\r\n            }\r\n            \r\n        },\r\n\r\n        mounted() {\r\n\r\n            // Pripojenie ku API\r\n            axios\r\n                .get('https://api.jsonbin.io/b/5dbc205f0448cf5e89350782/latest')\r\n                .then(response => (this.ratings = response.data))\r\n                .catch(error => {\r\n                    let body = document.querySelector('body');\r\n                    body.innerText = error + \" / StarRating Component\";\r\n                }\r\n            );\r\n\r\n        }\r\n\r\n    }\r\n    \r\n</script>\r\n\r\n<style scoped>\r\n\r\n    /*\r\n    * Import StarRating.scss\r\n    */\r\n    @import '../../scss/components/StarRating.scss';\r\n\r\n</style>"},"lineCount":null}},"error":null,"hash":"d42e3d1a9ff2bd7719d5eb1a4793416e","cacheData":{"env":{}}}